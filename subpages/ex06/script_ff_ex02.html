<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hi+Melody&family=Orbit&display=swap" rel="stylesheet">
    <!--    <link rel="stylesheet" href="../css/init.css">-->
    <link rel="stylesheet" href="./css/styles.css">
    <style type="text/css">
        #ex #temperature table {
            border-collapse: collapse;
        }
        #ex #temperature td {
            border: 1px solid black;
            width: 1.5rem;
            height: 0.8rem;
        }

        /* #ex #temperature .td01 {
            background-color: ;
        }  여기서부터 작업.. 10-25;*/
    </style>
</head>

<body class="table h_scene">
    <header class="t_row">
        <div class="t_cell">
            <h1>title</h1>
        </div>
    </header>
    <content class="t_row">
        <div class="t_cell">
            <div id="ex">
                <div id="temperature">

                </div>
                <div id="output">

                </div>
            </div>
        </div>
    </content>
    <footer class="t_row">
       <div class="t_cell">
        <hr>
        <p>
            <button type="button" onclick="location.href='../../index.html'" value="홈으로" >HOME</button>
        </p>
       </div>
    </footer>
    <!-- 마크다운 문법적용을 위한 스크립트들 -->
    <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.umd.js"></script>
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>

    <!-- danfojs 기능을 써보자. 그래봤자 배열합계;; -->
    <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>

    <script type="text/javascript">
        const temp_html = document.querySelector('#ex #temperature')
        const op_html = document.querySelector('#ex #output')

        const temp_config = {
            line_temps : [16, 22, 28, 32],
            color : ["purple", "dodgerblue", "gold", "greenyellow", "crimson"],
            info : [
                "정상온도에서 벗어났습니다.",
                "시원합니다.",
                "보통입니다.",
                "더위 주의",
                "정상온도에서 초과했습니다.",
            ],
            area : {
                size : [1.5, 0.8], // rem
                b_count : [6, 4, 4, 3, 6]
            },
            res : {
                res1: "지금의 온도는",
                res2: " 이며, 상태는 ", // 이후는 info에서..
                // 아래는 애니메이션 컬러.
                f_color: "#2A94FF",
                e_color: "#FF742A"
            },
            con : {
                tr : 3,
                td_area: 5,
                td : 0 // 아래에 초기화로 b_count설정에 따라 결정.
            },

            // list..
            tr_idx: {
                title: 0,
                length: 1,
                info: 2,
            }
        }

        // config init.
        temp_config.con.td = new dfd.Series(temp_config.area.b_count).sum()

        let i = 0
        
        const now_temp = +prompt("현재 온도를 입력해주세요.", 22)
        


        const Generate_trlist = tridx => {
            let td_list = ""

            for( i = 0; i < temp_config.con.td_area; i++ ) {

                if( temp_config.tr_idx.title === tridx ) {
                    if( 0 === i ) // 첫 행.
                        td_list = td_list.concat(`<td colspan="${temp_config.area.b_count[i]}">${temp_config.line_temps[i]}미만</td>`)
                    else if( (temp_config.con.td_area - 1) === i ) // 마지막 행.
                        td_list = td_list.concat(`<td colspan="${temp_config.area.b_count[i]}">${temp_config.line_temps[i-1]}이상</td>`)
                    else
                        td_list = td_list.concat(`<td colspan="${temp_config.area.b_count[i]}">${temp_config.line_temps[i-1]}이상 ~ ${temp_config.line_temps[i]}미만</td>`)
                }

                if( temp_config.tr_idx.length === tridx) {
                    // 두번째 열은 여기서.
                    for (let j = 0; j < temp_config.area.b_count; j++) {
                        td_list = td_list.concat( `<td class></td>` )
                    }
                }
                
                if( temp_config.tr_idx.info === tridx ) {

                }


                    
                
                
            }

            return `<tr>${td_list}</tr>`
        }

        

        

        // table 자체는 제외.
        let table_list = ""

        for ( i = 0; i < temp_config.con.tr; i++ ) {
            table_list += `${Generate_trlist(i)}`
        }


        temp_html.innerHTML = temp_html.innerHTML.concat(`<table>\
        
            ${table_list}

        </table>`)
    </script>
</body>

</html>